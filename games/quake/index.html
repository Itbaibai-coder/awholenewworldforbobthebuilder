<!doctype html><html lang=en-us><meta charset=utf-8><meta charset=utf-8><meta name=description content="Play the Quake first-person shooter in your browser! True to the original. Supports GLQuake, software-rendered mode, mods, and mission packs."><meta name=viewport content="width=device-width,height=device-height"><title>Quake</title><style>body{background-color:#202020;color:#e0e0e0;font-family:Arial,Helvetica,sans-serif;font-size:16px;margin:0}.emscripten{padding-right:0;margin-left:auto;margin-right:auto;display:block}textarea.emscripten{font-family:monospace;font-size:14px;width:calc(100% - 24px);height:calc(100vh - 24px);margin-top:8px;background-color:inherit;color:silver;border:1px solid #404040;resize:none;display:none;outline:none}@supports(height:1dvh){textarea.emscripten{height:calc(100dvh - 24px)}}a{color:inherit}code{font-size:inherit}input,button{font-family:inherit;font-size:inherit}table{border:1px;border-style:dashed}td{padding:2px}div#start{margin:8px;text-align:center}div.emscripten{text-align:center}canvas.emscripten{border:0;background-color:#000;width:1366px;height:768px;margin-top:0;display:none;outline:none}.spinner{height:50px;width:50px;margin:0 auto;-webkit-animation:rotation .8s linear infinite;-moz-animation:rotation .8s linear infinite;-o-animation:rotation .8s linear infinite;animation:rotation .8s linear infinite;border-left:10px solid #606060;border-right:10px solid #606060;border-bottom:10px solid #606060;border-top:10px solid #fff;border-radius:100%;background-color:#202020}@-webkit-keyframes rotation{from{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(360deg)}}@-moz-keyframes rotation{from{-moz-transform:rotate(0deg)}to{-moz-transform:rotate(360deg)}}@-o-keyframes rotation{from{-o-transform:rotate(0deg)}to{-o-transform:rotate(360deg)}}@keyframes rotation{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}</style><div id=start><img src=quake-wasm.gif width=100 height=100 alt="Quake Icon (from Quake Source)" title="Quake Icon (from Quake Source)" style=margin-top:1em><h1>WebAssembly Quake</h1><p>Play the Quake first-person shooter entirely within your browser!<p>To run LibreQuake with custom maps and bots, <strong>do not provide any files</strong>.<ul style=text-align:left;display:inline-block;margin-top:0;margin-bottom:0><li>To run the shareware version of Quake: Supply its <code>PAK0.PAK</code> resource file.<li>To run the full version of Quake: Supply <code>PAK0.PAK</code> and <code>PAK1.PAK</code>.<li>To play Mission Pack 1 or 2: Add its PAK file, naming it <code>PAK2.PAK</code>.<li>You can add <code>PAK</code> files, config files, and other resources from the same folder.</ul><p>To play Quake 2 instead, click <a href=https://quake2.m-h.org.uk>here</a>.<p><input type=file id=pakFiles multiple><div id=multiFilesSelected style=display:none><div id=fileCount style=display:inline-block></div>&nbsp;
<button id=resetButton>Clear</button><div id=mpDiv hidden><br><label for=mpRadio0>Standard Quake:</label>
<input type=radio id=mpRadio0 name=mpRadio value=0 style=width:16px;height:16px checked>&nbsp;
<label for=mpRadio1>Mission Pack 1 mode:</label>
<input type=radio id=mpRadio1 name=mpRadio value=1 style=width:16px;height:16px>&nbsp;
<label for=mpRadio2>Mission Pack 2 mode:</label>
<input type=radio id=mpRadio2 name=mpRadio value=2 style=width:16px;height:16px></div></div><p><label for=hwCheckBox>Hardware acceleration:</label>
<input type=checkbox id=hwCheckBox name=hwCheckBox style=width:16px;height:16px checked>&nbsp;&nbsp;
<label for=wideCheckBox>Widescreen:</label>
<input type=checkbox id=wideCheckBox name=wideCheckBox style=width:16px;height:16px checked><h3>Controls</h3><table style=text-align:left;display:inline-block;font-size:14px;margin-top:0><tr><td>[<td>Bot menu*<tr><td><code>]</code><td>Toggle observer mode (join in)*<tr><td><code>9</code><td>View next player*<tr><td><code>Esc</code><td>Quake menu<tr><td>Cursor keys & <code>Return</code><td>Select menu item<tr><td><code>WASD</code><td>Move<tr><td><code>Space</code><td>Jump<tr><td>Left mouse<td>Fire<tr><td>Middle mouse<td>Change weapon<tr><td>Right mouse<td>Move forward</table><p style=font-size:14px>* = Only for LibreQuake<p><label for=ageCheckBox>I am over 18 years old:</label>
<input type=checkbox id=ageCheckBox name=ageCheckBox style=width:16px;height:16px><p><button id=startButton style=width:160px;height:32px disabled>Start Quake</button><div style=font-size:10px>Show your support and &#x2B50; <a href=https://github.com/GMH-Code/Quake-WASM target=_blank>this project on GitHub</a>!</div></div><div id=run style=display:none><figure style=overflow:visible id=spinner><div class=spinner></div><center style=margin-top:.5em><strong>Quake</strong></center></figure><div class=emscripten id=status>Downloading...</div><div class=emscripten><progress value=0 max=100 id=progress hidden></progress></div><textarea class=emscripten id=output readonly></textarea>
<canvas class=emscripten id=canvas oncontextmenu=event.preventDefault() tabindex=-1></canvas>
<script>var statusElement=document.getElementById('status');var progressElement=document.getElementById('progress');var spinnerElement=document.getElementById('spinner');var canvasElement=document.getElementById('canvas');var outputElement=document.getElementById('output');const multiFilesSelectedElement=document.getElementById('multiFilesSelected');const fileCountElement=document.getElementById('fileCount');const startButton=document.getElementById('startButton');const hwCheckBox=document.getElementById('hwCheckBox');const wideCheckBox=document.getElementById('wideCheckBox')
const ageCheckBox=document.getElementById('ageCheckBox');const mpDiv=document.getElementById('mpDiv');const pakFiles=document.getElementById('pakFiles');var pakCollection=[];hwCheckBox.checked=true;wideCheckBox.checked=true;ageCheckBox.checked=false;function updateFileCountElement(){fileCountElement.innerHTML=pakCollection.length+' file'+(pakCollection.length===1?'':'s')+' total.';if(pakCollection.length===0){multiFilesSelectedElement.style.display='none';startButton.innerHTML='Start LibreQuake';}else{multiFilesSelectedElement.style.display='inline-block';startButton.innerHTML='Start Quake';}}
function updateWideDisabled(){wideCheckBox.disabled=!hwCheckBox.checked;}
function updateStartDisabled(){startButton.disabled=!ageCheckBox.checked;}
function resetPAKs(){pakFiles.value=null;pakCollection.length=0;updateFileCountElement();mpDiv.hidden=true;}
function saveCheckBoxes(checkBoxes){for(const checkBox of checkBoxes){localStorage.setItem(checkBox.id,checkBox.checked?'1':'0');}}
function loadCheckBoxes(checkBoxes){for(const checkBox of checkBoxes){const savedState=localStorage.getItem(checkBox.id);if(savedState!==null)
checkBox.checked=savedState==='1';}}
function getMP(){if(mpDiv.hidden)
return '0';else
return document.querySelector('input[name="mpRadio"]:checked').value;}
function saveSettings(){saveCheckBoxes([hwCheckBox,wideCheckBox]);localStorage.setItem('mpRadio',getMP());}
function loadSettings(){loadCheckBoxes([hwCheckBox,wideCheckBox]);const savedMP=localStorage.getItem('mpRadio');if(savedMP!==null)
document.getElementById('mpRadio'+savedMP).checked=true;}
resetButton.addEventListener('click',function(){resetPAKs();});ageCheckBox.addEventListener('change',function(){updateStartDisabled();});hwCheckBox.addEventListener('change',function(){wideCheckBox.checked=hwCheckBox.checked;updateWideDisabled();});pakFiles.addEventListener('change',async function(){const pakFilesFiles=pakFiles.files;for(let pakNum=0;pakNum<pakFilesFiles.length;pakNum++){const pakFile=pakFilesFiles[pakNum];const pakFilename=pakFile.name.toLowerCase();const pakArray=await pakFile.arrayBuffer();const pakData=new Uint8Array(pakArray);let filenameFound=false;for(let pakCollectionNum=0;pakCollectionNum<pakCollection.length;pakCollectionNum++){const pakCollectionEntry=pakCollection[pakCollectionNum];if(pakCollectionEntry[0]===pakFilename){pakCollectionEntry[1]=pakData;filenameFound=true;break;}}
if(!filenameFound)
pakCollection.push([pakFilename,pakData]);if(pakFilename==="pak2.pak"){const pakSize=pakData.length;mpDiv.hidden=false;switch(pakSize){case 35527205:document.getElementById('mpRadio1').checked=true;break;case 37875279:document.getElementById('mpRadio2').checked=true;break;}}}
updateFileCountElement();});startButton.addEventListener('click',async()=>{saveSettings();ageCheckBox.checked=false;startButton.disabled=true;document.getElementById('start').style.display='none';document.getElementById('run').style.display=null;window.scrollTo(0,0);let module_arguments=pakCollection.length===0?['-game','lq1','-listen','8']:[];switch(getMP()){case '1':module_arguments.push('-hipnotic');break;case '2':module_arguments.push('-rogue');break;}
if(hwCheckBox.checked&&wideCheckBox.checked)
module_arguments=module_arguments.concat(['-winsize','1366','768','+fov','107']);if(hwCheckBox.checked)
module_arguments=module_arguments.concat(['+gl_texturemode','GL_NEAREST']);if(window.location.search.length>1)
module_arguments=module_arguments.concat(window.location.search.substr(1).split('&'));Module['arguments']=module_arguments;let mainScriptName='quake-';mainScriptName+=pakCollection.length===0?'free':'main';mainScriptName+=hwCheckBox.checked?'-gl':'-sw';mainScriptName+='.js'
const mainScript=document.createElement('script');mainScript.src=mainScriptName;mainScript.async=true;document.body.appendChild(mainScript);});resetPAKs();loadSettings();updateWideDisabled();updateStartDisabled();var Module={preRun:[],postRun:[],print:(function(){outputElement.value='';return function(text){if(arguments.length>1)text=Array.prototype.slice.call(arguments).join(' ');console.log(text);outputElement.value+=text+"\n";outputElement.scrollTop=outputElement.scrollHeight;};})(),canvas:(function(){canvasElement.addEventListener("webglcontextlost",function(e){alert('WebGL context lost. You will need to reload the page.');e.preventDefault();},false);return canvasElement;})(),setStatus:function(text){if(!Module.setStatus.last)Module.setStatus.last={time:Date.now(),text:''};if(text===Module.setStatus.last.text)return;var m=text.match(/([^(]+)\((\d+(\.\d+)?)\/(\d+)\)/);var now=Date.now();if(m&&now-Module.setStatus.last.time<30)return;Module.setStatus.last.time=now;Module.setStatus.last.text=text;if(m){text=m[1];progressElement.value=parseInt(m[2])*100;progressElement.max=parseInt(m[4])*100;progressElement.hidden=false;spinnerElement.hidden=false;}else{progressElement.value=null;progressElement.max=null;progressElement.hidden=true;if(!text)spinnerElement.hidden=true;}
statusElement.innerHTML=text;},hideConsole:function(){let dVW,dVH,aspX,aspY;if(window.CSS.supports('height','1dvh')){dVW='100dvw';dVH='100dvh';}else{dVW='100vw';dVH='100vh';}
outputElement.style.display='none';aspX=canvasElement.width+' / '+canvasElement.height;aspY=canvasElement.height+' / '+canvasElement.width;canvasElement.style.width='calc(min('+dVW+', '+dVH+' * '+aspX+'))';canvasElement.style.height='calc(min('+dVH+', '+dVW+' * '+aspY+'))';canvasElement.style.marginTop='calc(0.5 * ('+dVH+' - (min('+dVH+', '+dVW+' * '+aspY+'))))';canvasElement.style.display='block';canvasElement.focus();},showConsole:function(){canvasElement.style.display='none';outputElement.style.display='block';outputElement.scrollTop=outputElement.scrollHeight;outputElement.focus();},totalDependencies:0,monitorRunDependencies:function(left){this.totalDependencies=Math.max(this.totalDependencies,left);Module.setStatus(left?'Preparing... ('+(this.totalDependencies-left)+'/'+this.totalDependencies+')':'All downloads complete.');},onRuntimeInitialized:function(){outputElement.style.display='block';for(let pakCollectionNum=0;pakCollectionNum<pakCollection.length;pakCollectionNum++){const pakCollectionEntry=pakCollection[pakCollectionNum];const pakFilename=pakCollectionEntry[0];const pakData=pakCollectionEntry[1];const pakSize=pakData.length;console.info("Writing to MemFS: "+pakFilename+" ("+pakSize.toString()+" bytes)");const pakDestFile=FS.open("/id1/"+pakFilename,"w");FS.write(pakDestFile,pakData,0,pakSize,0);FS.close(pakDestFile);}
resetPAKs();}};Module.setStatus('Downloading...');window.onerror=function(){Module.setStatus('Exception thrown, see JavaScript console');spinnerElement.style.display='none';Module.setStatus=function(text){if(text)console.error('[post-exception status] '+text);};};</script></div>
